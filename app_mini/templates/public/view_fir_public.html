{% extends 'public/header_footer.html' %}
{% load static %}

{% block content %}
<div class="our-case section-spacing" style="margin-top: 100px;">
    <div class="container">
        <div class="theme-title-one">
            <h2>FIR Records</h2>
            <p>View all registered FIR details</p>
        </div>

        {% if fir %}
            <div class="row">
                {% for i in fir %}
                    <div class="col-lg-6 col-12 mb-4">
                        <div class="single-case-block" style="background: #f5f5f5; padding: 25px; border-radius: 8px; box-shadow: rgba(17, 17, 26, 0.1) 0px 4px 16px, rgba(17, 17, 26, 0.05) 0px 8px 32px;">
                            <div class="case-content">
                                <div class="fir-header" style="border-bottom: 1px solid #e0e0e0; margin-bottom: 15px; padding-bottom: 10px;">
                                    <h5 style="color: #1e4e95; margin-bottom: 5px;">FIR #{{ i.fir_number }}</h5>
                                    <span class="badge" style="background-color: {% if i.status == 'filed' %}#17a2b8
                                        {% elif i.status == 'investigating' %}#ffc107
                                        {% elif i.status == 'charge_sheeted' %}#28a745
                                        {% else %}#6c757d{% endif %}; 
                                        padding: 5px 10px; 
                                        border-radius: 4px;
                                        color: white;">
                                        {{ i.get_status_display }}
                                    </span>
                                </div>

                                <div class="section-block" style="background: #ffffff; padding: 15px; border-radius: 5px; margin-bottom: 15px;">
                                    <h6 style="color: #333; font-weight: 600;">Complainant Details</h6>
                                    <p style="color: #444; margin-bottom: 0;">
                                        <strong>Name:</strong> {{ i.complainant_name }}<br>
                                        <strong>Address:</strong> {{ i.complainant_address }}<br>
                                        <strong>Contact:</strong> {{ i.complainant_contact }}
                                    </p>
                                </div>

                                <div class="section-block" style="background: #ffffff; padding: 15px; border-radius: 5px; margin-bottom: 15px;">
                                    <h6 style="color: #333; font-weight: 600;">Accused Details</h6>
                                    <p style="color: #444; margin-bottom: 0;">
                                        <strong>Name:</strong> {{ i.accused_name|default:"Not Specified" }}<br>
                                        <strong>Address:</strong> {{ i.accused_address|default:"Not Specified" }}
                                    </p>
                                </div>

                                <div class="section-block" style="background: #ffffff; padding: 15px; border-radius: 5px; margin-bottom: 15px;">
                                    <h6 style="color: #333; font-weight: 600;">Incident Details</h6>
                                    <p style="color: #444; margin-bottom: 0;">
                                        <strong>Date:</strong> {{ i.incident_date|date:"F d, Y H:i" }}<br>
                                        <strong>Location:</strong> {{ i.incident_location }}<br>
                                        <strong>Description:</strong> {{ i.description_of_incident }}
                                    </p>
                                </div>

                                <div class="section-block" style="background: #ffffff; padding: 15px; border-radius: 5px;">
                                    <h6 style="color: #333; font-weight: 600;">Filing Information</h6>
                                    <p style="color: #444; margin-bottom: 0;">
                                        <strong>Filed On:</strong> {{ i.created_at|date:"F d, Y" }}<br>
                                        <strong>Last Updated:</strong> {{ i.updated_at|date:"F d, Y" }}
                                    </p>
                                </div>

                                {% if i.evidence %}
                                    <div class="evidence-section" style="margin-top: 15px; text-align: right;">
                                        <a href="{{ i.evidence.url }}" class="btn btn-primary" style="border-radius: 5px; padding: 8px 15px;" target="_blank">
                                            <i class="fa fa-file-o"></i> View Evidence
                                        </a>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="empty-state text-center" style="padding: 50px 20px;">
                <i class="fa fa-file-text-o fa-3x" style="color: #dc3545; margin-bottom: 20px;"></i>
                <p style="color: #dc3545; font-size: 18px; font-style: italic;">No FIR records found.</p>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}